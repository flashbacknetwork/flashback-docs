# Storage Miner Actor

The **Storage Miner Actor** in Filecoin is a core component that represents a **storage provider (miner)** on the network. It is responsible for managing all aspects of a miner's storage operations, ensuring compliance with the network's rules, and coordinating various tasks related to storing and proving data. The Storage Miner Actor operates as a smart contract-like entity within the Filecoin blockchain.

<mark style="color:red;">It is an abstracted entity, a</mark> <mark style="color:red;"></mark><mark style="color:red;">**pure software component**</mark> <mark style="color:red;"></mark><mark style="color:red;">implemented in Lotus client (or equivalent).</mark>

## **Key Functions of the Storage Miner Actor**

<table data-full-width="false"><thead><tr><th width="197">Key Functions</th><th>Description</th></tr></thead><tbody><tr><td><mark style="color:purple;"><strong>Manages Sector Lifecycle</strong></mark></td><td>The Storage Miner Actor handles the lifecycle of <strong>sectors</strong>, which are fixed-size units of storage (e.g., 32 GiB or 64 GiB) where data is stored. This includes tasks such as <strong>sealing</strong> data into sectors, <strong>committing</strong> them to the network, and managing <strong>sector upgrades</strong> or extensions.</td></tr><tr><td><mark style="color:purple;"><strong>Sealing and Proof Submission</strong></mark></td><td><p>Responsible for managing the <strong>sealing process</strong>, which involves encoding and encrypting data to create <strong>Proof-of-Replication (PoRep)</strong>. This proof demonstrates that the miner has uniquely stored the client's data.</p><p></p><p>It also handles the periodic submission of <strong>Proof-of-Spacetime (PoSt)</strong> to prove that the data continues to be stored over time. The Storage Miner Actor ensures these proofs are submitted regularly to avoid penalties.</p></td></tr><tr><td><mark style="color:purple;"><strong>Rewards and Penalties Management</strong></mark></td><td><p>The Storage Miner Actor calculates and distributes <strong>block rewards</strong> to miners who successfully generate new blocks and submit valid proofs.</p><p></p><p>It also imposes <strong>penalties</strong> for faults, such as missing PoSt submissions, failing to store data properly, or experiencing sector faults. These penalties can result in the loss of rewards or collateral.</p></td></tr><tr><td><mark style="color:purple;"><strong>Handles Sector Faults and Recoveries</strong></mark></td><td>The Storage Miner Actor monitors the state of sectors and detects faults (e.g., sectors becoming unavailable or losing data). The Storage Miner Actor manages <strong>sector faults</strong>, including reporting faults, recovering sectors, and re-sealing sectors if necessary.</td></tr><tr><td><mark style="color:purple;"><strong>Interacts with Other Actors</strong></mark></td><td>The Storage Miner Actor interacts with other actors on the Filecoin network, such as the <strong>Market Actor</strong> (for managing storage deals), the <strong>Power Actor</strong> (for managing mining power), and <strong>Account Actors</strong> (for managing balances and transactions).</td></tr><tr><td><mark style="color:purple;"><strong>Manages Collateral and Slashing</strong></mark></td><td>Maintains <strong>collateral</strong> that miners must provide to participate in the network. This collateral can be slashed (partially forfeited) if the miner fails to meet their storage commitments, such as by missing PoSt submissions or failing to provide required proofs.</td></tr><tr><td><mark style="color:purple;"><strong>Sector Upgrades and Deal Management</strong></mark></td><td>It supports sector upgrades and deal extensions, allowing miners to add new data or upgrade existing sectors for better efficiency or longer storage duration. It alsoensures that the deals associated with sectors are honored and managed properly.</td></tr><tr><td><mark style="color:purple;"><strong>Storage Power Accounting</strong></mark></td><td>Tracks the miner's <strong>storage power</strong>, which determines the miner's chances of winning block rewards. Storage power is proportional to the amount of verifiable storage the miner contributes to the network.</td></tr></tbody></table>

## **Technical Overview**

* **Built-in Actor:**\
  The Storage Miner Actor is a built-in actor within the Filecoin protocol, implemented in **Lotus** and other Filecoin clients.
* **Smart Contract-Like Functionality:**\
  It functions like a smart contract, maintaining the state of the miner, handling transactions, and enforcing rules for storage and proof submission.
* **State Management:**\
  The Storage Miner Actor keeps track of all the miner's state information, including sector states, proofs, faults, rewards, penalties, and power.
